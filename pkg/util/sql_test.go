package util

import (
	"testing"

	"github.com/stretchr/testify/require"
)

type TestDataItem struct {
	expected []string
	input    string
}

func TestSplitStatements(t *testing.T) {
	inputTm2325 := "CREATE TABLE `document` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Код',\n  `uuid` varchar(36) DEFAULT NULL,\n  `id_category` int(11) DEFAULT NULL COMMENT 'Категория',\n  `id_user` int(11) DEFAULT NULL COMMENT 'Пользователь',\n  `u_alias` varchar(255) DEFAULT NULL COMMENT 'Алиас (ЧПУ)',\n  `type` tinyint(4) DEFAULT NULL COMMENT 'Тип\\r\\n1 - Контрольные работы\\r\\n2 - Тесты\\r\\n3 - Сочинения\\r\\n4 - Классные часы\\r\\n5 - Конспекты уроков',\n  `class` tinyint(4) DEFAULT NULL COMMENT 'Класс',\n  `id_room` int(11) NOT NULL DEFAULT '0' COMMENT 'id комнаты API',\n  `user_full_name` varchar(255) DEFAULT NULL COMMENT 'Автор',\n  `alt_category` varchar(255) DEFAULT NULL COMMENT 'ЧПУ категория',\n  `alt_title` varchar(255) DEFAULT NULL COMMENT 'ЧПУ',\n  `title` varchar(255) DEFAULT NULL COMMENT 'Заголовок',\n  `category_title` varchar(255) DEFAULT NULL COMMENT 'Заголовок категории',\n  `desc_short` varchar(500) DEFAULT NULL COMMENT 'Короткое описание',\n  `is_desc` tinyint(4) NOT NULL DEFAULT '0',\n  `date_now` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Дата добавления',\n  `date_upd` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Дата изменения',\n  `date_del` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Дата удаления',\n  `status_gen` int(11) DEFAULT '0' COMMENT 'Статус генерации...\\r\\n0 - без генерации\\r\\n1 - ошибка обработки\\r\\n10 - сгенерировано\\r\\n20 - не требует генерации',\n  `rating_bit` int(11) NOT NULL DEFAULT '0' COMMENT 'Начислен рейтинг',\n  `status_view` tinyint(4) DEFAULT '1' COMMENT 'Статус отображения',\n  `status_proc` tinyint(4) DEFAULT '0' COMMENT 'Статус процесса:\\n0 - не определено;\\n1 - локальный;\\n2 - перемещен;\\n3 - не требует перемещения',\n  `status_problem` int(11) DEFAULT '0' COMMENT 'Проблемма',\n  `seo_title` varchar(255) DEFAULT NULL COMMENT 'СЕО заголовок',\n  `seo_keywords` varchar(255) DEFAULT NULL COMMENT 'СЕО ключевые слова',\n  `seo_description` varchar(255) DEFAULT NULL COMMENT 'СЕО описание',\n  `file_server` varchar(32) DEFAULT NULL COMMENT 'Сервер файла',\n  `file_id` int(11) DEFAULT '0' COMMENT 'Код файла',\n  `file_url` varchar(255) DEFAULT NULL COMMENT 'УРЛ файла',\n  `file_name` varchar(255) DEFAULT NULL COMMENT 'Имя файла на диске',\n  `file_ext` varchar(8) DEFAULT NULL COMMENT 'Расширение файла',\n  `file_md5` varchar(32) DEFAULT NULL COMMENT 'md5 файла',\n  `file_lang` varchar(2) DEFAULT NULL COMMENT 'Язык файла',\n  `file_src` varchar(255) DEFAULT NULL COMMENT 'Оригинальное имя файла',\n  `file_path` varchar(255) DEFAULT NULL COMMENT 'Полный путь',\n  `file_hash` varchar(8) DEFAULT NULL COMMENT 'Хеш',\n  `file_size` int(11) DEFAULT NULL COMMENT 'Размер файла',\n  `file_extract` varchar(128) DEFAULT NULL COMMENT 'Распознаный файл',\n  `cert_num` varchar(16) DEFAULT NULL COMMENT 'Номер сертификата',\n  `related_ids` varchar(255) DEFAULT NULL COMMENT 'ID похожих файлов',\n  `date_related` timestamp NULL DEFAULT NULL COMMENT 'Дата обновления похожих',\n  `path` varchar(32) DEFAULT NULL COMMENT 'Путь к файлу',\n  `server` varchar(32) DEFAULT NULL COMMENT 'Сервер',\n  `is_find_identical` tinyint(4) DEFAULT NULL COMMENT 'Флаг поиска одинаковых документов',\n  `identical_ids` varchar(255) DEFAULT NULL COMMENT 'ID одинаковых документов',\n  `is_rescan` tinyint(4) DEFAULT '0' COMMENT 'Пересканировано',\n  `view_count` int(11) DEFAULT NULL COMMENT 'Количество просмотров',\n  `comment_count` int(11) DEFAULT '0' COMMENT 'Количество комментариев',\n  `edit_title_count` tinyint(4) DEFAULT '0' COMMENT 'Количество редактирований заголовков',\n  `cert_file` varchar(255) DEFAULT NULL COMMENT 'Файл сертификата',\n  `cert_date` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Дата генерации',\n  `old_id_file` int(11) DEFAULT NULL COMMENT 'Старый код module_files',\n  `old_id_material` int(11) DEFAULT NULL COMMENT 'Старый код content_materials',\n  `old_id_content` int(11) DEFAULT NULL COMMENT 'Старый код content',\n  `old_id` bigint(20) DEFAULT NULL COMMENT 'Старый код',\n  `old_alias` varchar(255) DEFAULT NULL COMMENT 'Старый алиас',\n  `old_num` varchar(32) DEFAULT NULL COMMENT 'Старый номер',\n  `is_delete` tinyint(4) DEFAULT '0' COMMENT 'Запрос на удаление',\n  `date_delete` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Дата запроса на удаление файла',\n  `delete_reason` varchar(255) DEFAULT NULL COMMENT 'Причина удаления материала',\n  `img_count` int(11) unsigned DEFAULT '0' COMMENT 'Количество изображений в документе',\n  `competition_score` decimal(10,4) NOT NULL DEFAULT '0.0000' COMMENT 'Баллы в конкурсе',\n  `automoderation_certificate_available` int(11) DEFAULT NULL COMMENT 'Timestamp когда можно отображать публикацию которая была одобрена скриптом',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `document_uuid_uindex` (`uuid`),\n  KEY `IDX_document_file_md5` (`file_md5`),\n  KEY `IDX_document_01` (`old_id`,`old_alias`),\n  KEY `IDX_document_02` (`status_view`,`date_now`),\n  KEY `IDX_document_03` (`status_view`,`type`,`class`,`date_now`),\n  KEY `IDX_document_04` (`status_view`,`id_category`,`date_now`),\n  KEY `IDX_document_05` (`status_view`,`id_category`,`type`,`class`,`date_now`),\n  KEY `IDX_document_06` (`status_view`,`id_user`,`date_now`),\n  KEY `IDX_document_07` (`status_view`,`id_user`,`type`,`class`,`date_now`),\n  KEY `IDX_document_08` (`file_server`,`file_id`),\n  KEY `IDX_document_09` (`file_server`,`file_id`,`id_user`),\n  KEY `IDX_document_10` (`title`),\n  KEY `IDX_document_id_user` (`id_user`),\n  KEY `IDX_document_11` (`date_now`),\n  KEY `IDX_document_12` (`rating_bit`),\n  KEY `IDX_document_13` (`is_desc`),\n  KEY `Idx_document_file_ext` (`file_ext`)\n) ENGINE=InnoDB AUTO_INCREMENT=5290833 DEFAULT CHARSET=utf8 AVG_ROW_LENGTH=2186"

	trickyComment := "CREATE TABLE `document` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '\\\"dIb-AbAa,Id+c!-@+<c''$bAb(;I(<I\\\"\\\"<)$<!beaa)$e;@cdAc)@e((K-''c(IcKeJ;<$@))A--,;!caIII!e<d*!b(IcaI$\\\"\\\"$c;KK(,;;$d''eA**c,,+,',\n  `uuid` varchar(36) DEFAULT NULL,\n  `id_category` int(11) DEFAULT NULL COMMENT 'J*aJd(Jdb!I@:+$@K*,;:c+());b\\\"<a;''AA)$*@d$b\\\"(eK\\\"-,@a:@\\\"AJaI*(@;,AJ\\\"''-''*'':A-)\\\"(K\\\"eKK*+d)d+(e(A;$ccKabKKJ(de@@b,aK''))\\\");',\n  `id_user` int(11) DEFAULT NULL COMMENT ';''(''JAe\\\"\\\"J))-)!,:@d*KdJda*!<bAaJI(c--a''((*Jec)!d(:+I-<a@I<<''d;acIJ-b*-A)+IJ<e''a+;+bKIe)Ke(*@($',\n  `u_alias` varchar(255) DEFAULT NULL COMMENT ':+;!b<!Ac;JI$Kc,\\\"!;''\\\"*JA\\\"!;K''e)KKe!JJe;cJa*;\\\"cI)JA!!$\\\"JI)d-dKc!a$(bb)(:$@$\\\"@JK(J*\\\"+e+:c)''$JI:,c-db-dJAI-<*eI\\\"$+e*+(Kd:J;b;'',',\n  `type` tinyint(4) DEFAULT NULL COMMENT '@(!A(\\\"(''II,$+-\\\"+),\\\"(IA''A\\\",\\\"@@,,b-$(()!$-+)dI''I!dI;-,ebK:)eA$$Jd,c),aab(!)+(c+)e*)+<Ac;,,!\\\",@I-$e*''d$c)K!$+K<(-(d!''-bb+$e*,bJ',\n  `class` tinyint(4) DEFAULT NULL COMMENT ',K!K$IKcK''$<!*A\\\"K$@<)$))''I:)e*''<;)Ab\\\"!dJ:;A:b+!A-''!<a(*A''J:AKIc\\\",a::<:eb$ed*:(A''+;AI:(I<aAe<;e,(b)I*;b:b*!**!K-eKbb,ee',\n  `id_room` int(11) NOT NULL DEFAULT '0' COMMENT '(AAJIJdKK,:I;:;K)'':b\\\"e\\\"JJ\\\"@<@!Jc\\\"b@,!aAb);b*d'';!,!b)AAa$,;aI)e,''a-\\\"!$c-;-($d-*K)a,@d\\\":A$@;$-c*:\\\"J!$!*,''',\n  `user_full_name` varchar(255) DEFAULT NULL COMMENT '-\\\":K:$Ie@(,c\\\")KJcJJd!+--c)*+Ieb-*aJIeA;K**K)(,$$!);(d++-*cA''A$*$:!Kd-bAK**-\\\"*(c)e,:(;;''aK<AI@)''<eAde+I@\\\"\\\"@+a-@:!,:,+;+d\\\"aAe',\n  `alt_category` varchar(255) DEFAULT NULL COMMENT 'e,(AAa!c+<J<$,);<\\\"!:''''$e\\\":a(I)<\\\"Ka-\\\"bI@;e!!bddad;$*A;IeJA:J<(!(@*'',!c\\\"K)'';)(<,-,Id!(<<\\\"ea(;bKe+a;b@a*'',$$Je)''',\n  `alt_title` varchar(255) DEFAULT NULL COMMENT '!Iccb@I<*J:,e''J,JAeb@I():)(c!,e(\\\"b<$c\\\"eeJJ+*b!AA-((a(*;''ec;IK-!*a)$AA!-:''$!(\\\",+e,A-!d+K-e\\\"ce''d;!IIbAd$!(-b);a-e@e-*''c:<<!ad(:*c,$',\n  `title` varchar(255) DEFAULT NULL COMMENT '@:)Kaa\\\"$K\\\"<!*,eAb+''\\\":eI!I*-!KAIaa;\\\"cJbd,!,:+!$d)A!\\\"$eJ-:*)e+cac);\\\";<ddde($@(;e<'':e\\\"AA''e-e\\\"@c;J<$KA(+\\\";Aa<)K@(''\\\"+I''a:ee',\n  `category_title` varchar(255) DEFAULT NULL COMMENT '<K:*K;Ia:!)-+\\\"<*<KJJ(@IA)I!A(!@-b!I''b)AabJ)(,!(Ae*(,''K(:,cK\\\"I\\\"+aeA<$c\\\";J\\\"c\\\"I*''ba*)!:+dI+\\\":);$*+b):!;a*@Jb-$;A@e!Ac$(b)!I+a-\\\"@$''b',\n  `desc_short` varchar(500) DEFAULT NULL COMMENT '$;I)-+<ddA''I)eK:a@a:IA-addbAA,eIJ-\\\"-ac+e''I+d\\\"e;($)A(:b@K:,:!\\\"''J;@eea*ce\\\"@beIJKI+ddK\\\"c!ec\\\"''AK*!',\n  `is_desc` tinyint(4) NOT NULL DEFAULT '0',\n  `date_now` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'd<,$<IAId*+,\\\"K<a\\\"@\\\"A-AJ@cK:-,ceaKb::!b@b$@,-:<,$''*''K''bc$K-Jec<+I,-:-b(:''!:c;$:::<K'';eJ<J:!:b:+::+d!J-I\\\":\\\"A;(\\\"$cdIJbJa',\n  `date_upd` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'aK,e<b-:Ac<ba\\\"($Je,J:(@a<Ib<$e();'',''J--(*<++)-<dJ+$JIJ*J@Jd!bIA!@@''$\\\"d-a@dbK'',d\\\"I)a+!):J,)<J+$'')bKK<$\\\"',\n  `date_del` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'J\\\"<)-(;;\\\"''<eJ@)),c!Kd));:!+*cJ@:A$b''(e!+:)):;$eAKbaJ<,)--a:JcKe\\\"ceKeAIaadbKb!a)@;+A$:e-,-I+)*I$\\\"''*eKaId\\\"aa@+,;!Jd@<:A:;A+,ed@(,',\n  `status_gen` int(11) DEFAULT '0' COMMENT '!,<;-)cc)b$-''$,JIJc!,K+(-Aa))Aa!*,<*$,$:(:dKA(*!*(-(+)\\\"bI+)-:acbe\\\"d$cd+b<<IKd(A;@eb,!+,-I@<)<@IJJ:Ja@!K\\\"eK-,)+KJ',\n  `rating_bit` int(11) NOT NULL DEFAULT '0' COMMENT 'eJ\\\"$,*eI)KI$bIe)a<:bb<(!b<a;Id(*Id,:\\\"e@$b(aJ$b(Ab<\\\"ac<b(!''J<$*d;A@a\\\"+\\\"\\\"+IaKI@KJ(e)\\\"e+A+;)$(Ib!*\\\"Ab+@d;<bK;a:a)\\\"deA<ccd+\\\"I\\\"J*',\n  `status_view` tinyint(4) DEFAULT '1' COMMENT '<aK;,ad;I!(b,;I;)db!+,Ja''dbIJ$!$''ddK\\\"A)!;!e'',AJ;$cJdJ,,I+Kb)Ac;<($K,dA<-A!+e,\\\";Ke'',a\\\"''I<)c\\\"+K:<,$K\\\"+a@*-''cI',\n  `status_proc` tinyint(4) DEFAULT '0' COMMENT 'a;:'';Ie@J-da+!K*<K;I<()-:II,-@b''<:<,d!;:KJI*@*+,c<J''-)ceAJA+b\\\"I\\\"<KeAJ;<-,*I($ecAd,,;''$KeK,,)IJc\\\"JeaA-(d,',\n  `status_problem` int(11) DEFAULT '0' COMMENT '*$;@dc!:<;:\\\"$-A\\\")$J;@eIA)a*!''!:$@''*!);'',:$-ca:ac@$Jd+Jd;bK<,)dAI:d*<I$<J\\\"\\\":dee,a;d$''+b'',KAb;''A:\\\"-''*I!<$KeI$''''',\n  `seo_title` varchar(255) DEFAULT NULL COMMENT '\\\"''''b*Aa(*b!JJe,a\\\"aaeA$''<<!\\\"(*''cb+-,:(-d\\\";aK;(I(e$''$:K,d\\\";@II<)''*!,AK*A\\\"J(KKbAd+I!'',d,*(-()<K''!a+*)Jc),\\\"J-c;\\\":dKb,',\n  `seo_keywords` varchar(255) DEFAULT NULL COMMENT 'KeJ-)@dee:A(''Kd++@,bbdb\\\"I(K*(ddJb@a)bcdeK$+*A(-A*$:I;(;!KKI!:$Ke$A(,,a<)aeK!<<Id<b!\\\"\\\"I,Kd+''K$bK+Ab\\\"+;;(''a;',\n  `seo_description` varchar(255) DEFAULT NULL COMMENT '!IJ+e-$bcceI+cda+$!<(<;(KcA(-*d(Ac(c!++!,ee;b*<c,-''*caa<@eJb$b:A<;K,*++Ke$$)-+I)e<(cI''I$AA@<bAcac+K:A(dJK*',\n  `file_server` varchar(32) DEFAULT NULL COMMENT ',,K\\\"aA,A)-c+$:!!@(Jb;*(''-\\\"(:J(''+$''!K):b;,K,@J\\\",Jc<)d:ad(*a+(c)J+dJc-d:a\\\"):d\\\"\\\"<($+<:dca,!,''d:@KKa)\\\"(-+',\n  `file_id` int(11) DEFAULT '0' COMMENT 'K(\\\",*\\\"\\\"$J;(dK-e:bc+J$@);*@;<A(e:;'')*);cK@)+dJcA<e*dI''KAd;;aJ,b:K''$(-*b''$,<:,<J$a:J$c)J<e@*dJ(JJ;e(<''(<!Jce',\n  `file_url` varchar(255) DEFAULT NULL COMMENT '!\\\"b*K<'';Jd$J)d*I*dc(:K@(A\\\"+(!ed-IKb\\\"a@a+,,,\\\"d-)*<d,c!@$d''+a)de,!K(:!+e*a;aJ@\\\"Aae)(-,,:A<Jed:''!e;A,,:\\\",!+\\\"!e-,',\n  `file_name` varchar(255) DEFAULT NULL COMMENT '**Kc-$*)\\\"<+b$''+JdA$@a-)J\\\"$@ccJ+e(c$():a@a<IeI)A<!@@c!*IKJec,@:@I+*aK\\\"d(e,cbe(($!eJ(-@:!\\\",I-$edb,a;e*:,<b*d*K;e-d\\\"b+J+JbA!deII@aI',\n  `file_ext` varchar(8) DEFAULT NULL COMMENT '(;cb+++A$<Ae''d<;Jd\\\"\\\"+*:de,AK::'';''),$@I$d@Id)''$cb;(<a*''-\\\"@a!I:-''<K''-;!'':<aI:,\\\"c<-*(b,bI**-c@A-;@*dAec:(Ic''@;\\\"bc:@I+J,''a,a*e;!ecJ@',\n  `file_md5` varchar(32) DEFAULT NULL COMMENT 'a!c-ce*aJ''\\\";;+-A,a;)(''*db+),bJ!+;I:;a:<-''),b*''<<d*)J$-*(K-c@Kd;a:Ib,b,,$!+(a<*:*+(c'';@:a!!,$;$',\n  `file_lang` varchar(2) DEFAULT NULL COMMENT '(b$acd+d;<*,I$A*<\\\"):!::d!IJ:K(J<\\\"ae$@Ibd:dI(*J+)\\\"AKKc@A:)\\\"I$J(d''@*:;J-\\\"e,K@a!(K!''+!IJd:IeI\\\"$'',;!+$Kea:*KKA,!-A)J)-)a)(Ke-;<)@',\n  `file_src` varchar(255) DEFAULT NULL COMMENT '\\\"+(K$(\\\";I;$)db+aA-I\\\"IJc-@@Ib;I;*<@!)J$-c'';a$)$,)$@+\\\",:,eII(*!\\\"d*!eee$eAd<'':A:\\\"a<$de''-c\\\"cIA!<''+b,!JI,:dec*cAbe!,@ea',\n  `file_path` varchar(255) DEFAULT NULL COMMENT '*c-+:+Icb\\\"!@(,;;+<::A$,*I$Ia,dJAIaAJ((aK)\\\"(cc$''@\\\"d<KeK;cA+-$:cabd)aJ!cKcbbJc:;e+d<)+:edb\\\";\\\"aA''*Kd);I''<Ia\\\"''b@c(<b\\\"d',\n  `file_hash` varchar(8) DEFAULT NULL COMMENT 'b$dK*!eab-<,c$I$-@''-d,-$b-@$:''c,''-$!e+\\\"aK:*b;$<A$e@(J<(d!:$a''b<da+aI:\\\"I;e<''e\\\"!Kd,e@(+:\\\"K,dK!I-b''*-$''b)a!:eA)b:(++acb:bJa',\n  `file_size` int(11) DEFAULT NULL COMMENT 'bJ$A)(+a;ba)A):Ac!@\\\"!)*(eIaAI:bba;cKK:'':*K$a$,-$,;<:)A<:A\\\",)e;\\\"a<)-cI$!*-+\\\"@I:e(,$I:,J,-<c''<''',\n  `file_extract` varchar(128) DEFAULT NULL COMMENT 'c<,J(b@,:e:(A+c)Ib+*e$K,*J(<+eeA<;;!bI)d:)d<A'';J\\\"''Kdce:;J+b''\\\";@KKJK((Add+a@!)Ac+b\\\"b<''A$<*:K'':ca+@dd!a@K;I:(J<:c)d''cK:ce+d)c;d',\n  `cert_num` varchar(16) DEFAULT NULL COMMENT '\\\",AAa,(''JA$-*AJb*@!$@<;,A''-(-$,\\\"b(a''e:J-!IK$J'')J)J;be*A'',bJ<JJ(b;@:AJb!IAJA:<:-+*JA*''*:''*$\\\"e:$(c!<b<\\\"b;<**-++d$',\n  `related_ids` varchar(255) DEFAULT NULL COMMENT '<d*<(<));''''(''Jc'',cJcee(a+(b@\\\"KA:@A;JJ,!AJ-A''*IIAcab$I$-Kc''K-*<(!Ie!),!dJ)A),JKdd*aKcdKd!I:e)I''c-JA',\n  `date_related` timestamp NULL DEFAULT NULL COMMENT '$b!b$$b+)!,)-\\\"<c<Aa$a(a+!Id)!b\\\",Ie*$;Jb\\\"b)AdI-''aIJI$*c($@a@,ad:,*b$'':;A-d<-''*b*;(beI(!!@'',''-a''a@IK$)$bIa$J@\\\"!',\n  `path` varchar(32) DEFAULT NULL COMMENT 'b,;$''*$,!AA\\\")eeIKbe:@aKK<K(:+@eca!IJ@@<;)(a;*;b@\\\"c$dJa\\\"(A\\\"''eec+:I\\\"''<Ac$:''JIKd,c-A\\\"@Ib;:I!('',)A(-:-J-$(K-$II!''ab)$@ed''\\\"!++',\n  `server` varchar(32) DEFAULT NULL COMMENT '*-)+K(e\\\":!@-,@$@)\\\"*$,!J$bdcbI-+d,ec;''Ia:\\\"AK<-@:ed@$cI-J''@a+@*@ceJ;ac*I*<)\\\"!cb$*b((AAae-''d@+$!;',\n  `is_find_identical` tinyint(4) DEFAULT NULL COMMENT 'KA@@$''*;\\\"*)(''\\\"!$e!b*$b)$KKdc)<;;+''b,<:(-(eA;*dd:<K\\\"ac$b!<,!$*ab:@(-+,K+$--+*\\\"<'')-e-ce@,:-@(',\n  `identical_ids` varchar(255) DEFAULT NULL COMMENT ',A\\\"e,<d:;a<:Kd-\\\":de:!\\\"A''I+\\\"I;;I''$,bb@<((c\\\"d\\\"e(J'',!e!*AIJ@+;\\\"deb''d$e*$:J-ea@;a)@$c''dbaJ<aI+b;d,Id;a@',\n  `is_rescan` tinyint(4) DEFAULT '0' COMMENT ';cJb$a:d$dcI,$)c:IbJK:aebeeII!''$JI)Jd:K)c$+;*)\\\"''Ie$d''''<,-!,(,,;,JI,ddb;:'':A,a'',c!@-:+,!dJc<<<)bJK-;)eAb,'''':\\\"J,@!d;@b)bJb<Ib',\n  `view_count` int(11) DEFAULT NULL COMMENT 'dbJ,::)<$(aJeK,a+K,a)IK;e<@A*d*c)c,I''+,;a!)K)\\\"b\\\"I!\\\"*(I<*-:c!AAda,*@,+$;d$!Aa$e@cab<+)I*IK<)((:)$-*:<A(Kc\\\"\\\"Ic$b<(*e-dIKd$K',\n  `comment_count` int(11) DEFAULT '0' COMMENT 'ad(<''''d,)cKA;@<\\\")d<,b)@*:*;b(ecb+aA(-e<<c:::@:c@,Ad$a:!($*()c$@,a+)''\\\"c-K\\\")b'':+eJ*\\\";+*:<K*<!a@''-:dI-\\\"',\n  `edit_title_count` tinyint(4) DEFAULT '0' COMMENT '''K(J;)J:*''!,<d\\\"e*<!K$''(:*Ac*$;I('',+-;(I<d:(<Iceda):''dAd$;KA;;*-IAK<KK-IceJ'')<-,)-@c!A$I''-\\\"$@$)I\\\":@Ab,$e$+)K<Ke*:@b+;dbcJ<I\\\"-),;,',\n  `cert_file` varchar(255) DEFAULT NULL COMMENT '<e<I:A-++c<-IJ$;aA*)!e\\\"e-KbKd@,ad'')*J@b(!d+,A+Aebb*(I;dI-@,)$a''a-ed''K+<\\\"e'',@:d((c''K:@''*,A,(@$*+<,:A',\n  `cert_date` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'd<,()A)''IKc)ed,!c,cd+<:@Jbdb*)-**(AJ*cb''I:''@dKddc,ccAKd@;:@ba@Ab@A*e,;@K'';@eJA\\\"Ie*\\\"<,:!c-A\\\":@@!<$:(A;cde,KKI*<;<-+*$@A!:a(!*K;AJb',\n  `old_id_file` int(11) DEFAULT NULL COMMENT '!;@I;d\\\"$''$:(K(<bb:Ac!:c)cb!!$K''d*,eAI(:A)\\\"JA(JIdA,!;Ke''<K$**;*+A:!()<+c-::e)!''!,JI,J:-*$J:d''$''IKI@*K',\n  `old_id_material` int(11) DEFAULT NULL COMMENT ':*cKA;(:b*,*$\\\"A,-a@*K;J*\\\"c:bedaK$$!$(<cJ\\\"KJ:(Jb,)!''*)+-;(;IaK@I,!bbaIe)Ac*(d*<a+@baA$db,$K);*eK*,+!ce*Ad$c',\n  `old_id_content` int(11) DEFAULT NULL COMMENT 'eb''(Ic<@e+bd@e;),@)add--(aIb;''''bb*$Jc''*J-;\\\"*($-:-*b;:$+e@;-'',A)\\\";a<(a+''<I<I,+''!:<AaA@'':Aea\\\"+bbI''bKd+,',\n  `old_id` bigint(20) DEFAULT NULL COMMENT '*AI''(b<a*$J*<(;-AKe;,A@\\\"J<;I;$\\\"-AJ))K**ea,''e!!A<-!-:<A)-;''''dK<eeK$bcJc$a''+-\\\"b!,$dIcc;!I*ee$$*$',\n  `old_alias` varchar(255) DEFAULT NULL COMMENT '\\\"''+@AIJ;K(c+I<J-+''+d)!!@(Iad('';@*):a-<-bK<;@J$$beA-d\\\":@<@)''K-bc*AaI+\\\"Ae'',)e\\\"<*K<+<a;K-<\\\",c<ec;a@)',\n  `old_num` varchar(32) DEFAULT NULL COMMENT '*@+)(''\\\":K!*!II$a;)Jd*Jd@+$\\\"@a$-@;$A-(I<AK$-<AA''b'',K)!b:*)-''ceb,:d''Ic,Kcc)a,;K$+;c+),:a(aI,a\\\"+@,!@d+@!a',\n  `is_delete` tinyint(4) DEFAULT '0' COMMENT ',I\\\")\\\"<,)e)cb+,,)a,aJ\\\"JK<''I:!@$J,b;:Jc,)AAIA+K+dA)($A!bAcabc**J$+\\\"K**a)!bI<J*;I\\\"Ke!<a+d,-K,:K*J+d)'':(<Ab**:J',\n  `date_delete` timestamp NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'cI;AbAd''e<!I$dcdK@,-e!I$dIAd<**K)!:ecJ@cI!d!''@aAKIa(;,,)(KJd;K:,Ic*Ibe'':+);(b+-!\\\"<;:+d-<KJ!:$e*K''cce+JI@)\\\"c*<J-AA;J',\n  `delete_reason` varchar(255) DEFAULT NULL COMMENT '<$I+e+<caaA:K;Ja\\\"J<)e:(bIA$AJ:,''<,<;K(''aAK))J:-''K)-@-:)*b<e+:(!!-J,\\\")-;a$A)$Ad<:J\\\"+!*!)<-ac\\\"Je@A)I;$JA:ba',\n  `img_count` int(11) unsigned DEFAULT '0' COMMENT '*c@),c(c),!$)(a''IJA;Ac;aAe;I''-+a''baa,d\\\"@*<<,<c)IaKJb\\\";Jd!''a''+ce@,;aIc;\\\"\\\"b<@):J,'';;!<$K''-e-*\\\"c<,''ada:))$K',\n  `competition_score` decimal(10,4) NOT NULL DEFAULT '0.0000' COMMENT ';:K@\\\"--,*,c''bA+<$!@);I@,a:I)*e*@JcI+e,@$+Aaa)a--<''''b-''cK!<$)ee''+b*<J$*cdbbbcI\\\"-K!$dbA!\\\"*;''*\\\"<;',\n  `automoderation_certificate_available` int(11) DEFAULT NULL COMMENT 'Aaeb(+;*'',c<Jc;\\\":<c!''<*!A@:Jd:@a*A<:ae;))c-:cA!''JK@*$;\\\"A$\\\"--d)K$d!,-a+;''''J'')(-AAb)d*A((,eA;c,$c\\\":ed,KJb*:JaI,c,$(',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `document_uuid_uindex` (`uuid`),\n  KEY `IDX_document_file_md5` (`file_md5`),\n  KEY `IDX_document_01` (`old_id`,`old_alias`),\n  KEY `IDX_document_02` (`status_view`,`date_now`),\n  KEY `IDX_document_03` (`status_view`,`type`,`class`,`date_now`),\n  KEY `IDX_document_04` (`status_view`,`id_category`,`date_now`),\n  KEY `IDX_document_05` (`status_view`,`id_category`,`type`,`class`,`date_now`),\n  KEY `IDX_document_06` (`status_view`,`id_user`,`date_now`),\n  KEY `IDX_document_07` (`status_view`,`id_user`,`type`,`class`,`date_now`),\n  KEY `IDX_document_08` (`file_server`,`file_id`),\n  KEY `IDX_document_09` (`file_server`,`file_id`,`id_user`),\n  KEY `IDX_document_10` (`title`),\n  KEY `IDX_document_id_user` (`id_user`),\n  KEY `IDX_document_11` (`date_now`),\n  KEY `IDX_document_12` (`rating_bit`),\n  KEY `IDX_document_13` (`is_desc`),\n  KEY `Idx_document_file_ext` (`file_ext`)\n) ENGINE=InnoDB AUTO_INCREMENT=5290833 DEFAULT CHARSET=utf8 AVG_ROW_LENGTH=2186"

	dataItems := []TestDataItem{
		{
			[]string{"asfd'x;d;;d\"sf`dfs;'", "sdf", "dfsdfe", "sdf';fd;'", "`;;\";\"`", "weee\"'`.sdfl.;\"a", "ggg\"some \\\"text;\\\"\"$i"},
			"asfd'x;d;;d\"sf`dfs;';sdf;dfsdfe;sdf';fd;';`;;\";\"`;weee\"'`.sdfl.;\"a;ggg\"some \\\"text;\\\"\"$i",
		},
		{
			[]string{inputTm2325},
			inputTm2325,
		},
		{
			[]string{trickyComment},
			trickyComment,
		},
	}
	for _, dataItem := range dataItems {
		require.Equal(t, dataItem.expected, SplitStatements(dataItem.input))
	}
}
